{% extends 'base.html' %} {% load static %} {% block content %}

<!-- Heading -->
<div style="text-align: center">
  <h1
    style="
      margin: 0;
      line-height: 100px;
      font-family: Arial, sans-serif;
      color: #333;
    "
  >
    View Your Cart!!
  </h1>
</div>

<!-- Search bar -->
<div style="text-align: center; margin-top: 50px">
  <form method="get" action="{% url 'search' %}">
    <input
      type="text"
      name="q"
      placeholder="Search Cart Products...."
      style="padding: 10px; width: 300px; font-size: 16px; border: 2px"
    />
  </form>
  <br /><br />
</div>
<!-- Product container -->
<div
  class="container"
  style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: flex-start"
>
  {% if cart_products %} 
    {% for product in cart_products %}

      <div class="product">
        <div class="product-cart">
          <div>
            <img
              class="product-image"
              src="{{ product.image.url }}"
              style="width: 100%; height: auto"
            />
          </div>
          <div class="product-details">
            <h5 class="card-title">{{product.name}}</h5>
            <p class="card-text">{{product.price}}</p>
            <p class="card=text">{{product.category}}</p>
            <p class="card-text">{{product.description}}</p>
            <p>
              Quantity:
              <select class="form-select form-select-sm" id="qty-cart">
                <option selected>
                  {% for key, value in quantities.items %} 
                    {% if key == product.id|slugify %}
                      {{ value }} 
                    {% endif %} 
                  {% endfor %}
                </option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
              </select>
            </p>
            <button>Buy-Now</button>
            <p><a href="{% url 'home' %}">Home</a></p>
          </div>
        </div>
      </div>
      <br/>

      {% endfor %} 
  {% else %}
      <p>There's Nothing in your Cart...</p>
  <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
  {% endif %}
</div>

{% endblock %}
